* {
    box-sizing: border-box;
}

body {
    margin: 0;
}

ul {
    list-style: none;
    margin: 0;
    padding: 0;
}

li {
    margin: 0;
    padding: 0;
}

.t {
    $width-col: 85px;
    $padding-right: 20px;

    &__main {
        display: flex;
        justify-content: center;

        width: 100%;
        height: 100%;

        padding: 150px 0 150px 0;

        &.drag-drop-occurring {
            cursor: default;
            cursor: grabbing;
        }
    }

    &__container-scroll {
        overflow: auto;
        width: 600px;
        height: 450px;
    }

    &__container {
        padding: 0 $padding-right 20px 0;

        // This is the main trouble-maker.
        // Comment this in and try to scroll horizontally until the end of the table.
        width: calc(
            #{$width-col} + var(--columns-count) * #{$width-col} + #{$padding-right}
        );
    }

    &__table {
        display: grid;
        grid-template-columns: auto;
        grid-template-rows: auto;
        grid-template-areas:
            'corner cols'
            'rows cells';

        &--corner {
            grid-area: corner;

            z-index: 1;
            background-color: #dddddd;

            position: sticky;
            top: 0;
            left: 0;

            padding: 10px;
        }

        &--rows {
            grid-area: rows;

            position: sticky;
            left: 0;
            background-color: #ffffff;

            border-right: 2px solid #dddddd;

            &--item {
                padding: 10px;

                border-bottom: 1px solid #dddddd;

                white-space: nowrap;

                &:hover {
                    cursor: pointer;
                    cursor: grab;
                    background-color: #8ed1f6;
                }

                &.total,
                &.total:hover {
                    cursor: default;
                    background-color: #999999;
                }

                &.placeholder {
                    background-color: #8ed1f6;
                }

                &.mouseover {
                    cursor: default;
                    cursor: grabbing;
                    background-color: transparent;
                    box-shadow: 0px 2px 0px 0px #d81293;
                    border-bottom: 1px solid #d81293;
                }

                .drag-drop-occurring & {
                    cursor: default;
                    cursor: grabbing;
                }
            }
        }

        &--cols {
            grid-area: cols;

            position: sticky;
            top: 0;
            background-color: #ffffff;

            border-bottom: 2px solid #dddddd;

            display: grid;
            grid-auto-flow: column;
            grid-auto-columns: $width-col;

            &--item {
                padding: 10px;

                border-right: 1px solid #dddddd;

                white-space: nowrap;

                &:hover {
                    cursor: pointer;
                    cursor: grab;
                    background-color: #8ed1f6;
                }

                &.total,
                &.total:hover {
                    cursor: default;
                    background-color: #999999;
                }

                &.placeholder {
                    background-color: #8ed1f6;
                }

                &.mouseover {
                    cursor: default;
                    cursor: grabbing;
                    background-color: transparent;
                    box-shadow: 2px 0px 0px 0px #d81293;
                    border-right: 1px solid #d81293;
                }

                .drag-drop-occurring & {
                    cursor: default;
                    cursor: grabbing;
                }
            }
        }

        &--cells {
            grid-area: cells;

            &--row {
                &--item {
                    float: left;
                    width: $width-col;
                    padding: 10px;

                    border-right: 1px solid #dddddd;
                    border-bottom: 1px solid #dddddd;

                    white-space: nowrap;

                    background-color: #666666;
                    color: #ffffff;

                    &.total {
                        background-color: #333333;
                    }

                    .drag-drop-occurring & {
                        cursor: default;
                        cursor: grabbing;
                    }
                }
            }
        }
    }

    &__ghost {
        position: fixed;
        top: 0;
        left: 0;

        z-index: 3;

        padding: 6px;
        border: 4px solid #1293d8;
    }
}
